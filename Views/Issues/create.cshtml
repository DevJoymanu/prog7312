@model prog7312_st10161149_part1.Models.ReportIssueViewModel
@{
    ViewData["Title"] = "Report Issue";
}

<div class="form-container show">
    <a asp-action="Index" asp-controller="Home" class="back-button">← Back to Dashboard</a>

    <div class="form-header">
        <h2 class="form-title">Report Municipal Issue</h2>
        <p class="form-subtitle">Help us improve your community by reporting issues</p>
    </div>

    <form asp-action="Create" method="post" enctype="multipart/form-data" id="issueForm">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

        <div class="form-group">
            <label asp-for="Location" class="form-label">📍 Issue Location</label>
            <input asp-for="Location" class="form-input" placeholder="Enter street address or landmark" />
            <span asp-validation-for="Location" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="Category" class="form-label">🏷️ Issue Category</label>
            <select asp-for="Category" class="form-select">
                <option value="">Select a category</option>
                @foreach (var category in ViewBag.Categories as Dictionary<string, string>)
                {
                    <option value="@category.Key">@category.Value</option>
                }
            </select>
            <span asp-validation-for="Category" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="Description" class="form-label">📝 Issue Description</label>
            <textarea asp-for="Description" class="form-textarea" placeholder="Provide a detailed description..." rows="5"></textarea>
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="ReporterName" class="form-label">👤 Your Name (Optional)</label>
            <input asp-for="ReporterName" class="form-input" placeholder="Enter your name" />
            <span asp-validation-for="ReporterName" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="ReporterEmail" class="form-label">📧 Email (Optional)</label>
            <input asp-for="ReporterEmail" class="form-input" placeholder="Enter your email for updates" />
            <span asp-validation-for="ReporterEmail" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="Photo" class="form-label">📸 Photo (Optional)</label>
            <input asp-for="Photo" type="file" class="form-input" accept="image/*" />
            <span asp-validation-for="Photo" class="text-danger"></span>
            <small class="text-muted">Upload a photo to help us understand the issue better</small>
        </div>

        <div class="button-group">
            <button type="submit" class="btn btn-primary">🚀 Submit Report</button>
            <button type="reset" class="btn btn-secondary">🔄 Reset Form</button>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}